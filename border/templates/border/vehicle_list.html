{% extends 'base.html' %}

{% block title %}Vehicle List{% endblock %}

{% block content %}
<div class="container">
    <h2 class="my-4">Vehicle List</h2>
    
    <!-- Search Form -->
    <form method="GET" action="{% url 'border:vehicle-list' %}" class="form-inline mb-4">
        <input type="text" name="search" value="{{ search_query }}" class="form-control mr-2" placeholder="Search by Owner or Vehicle">
        <button type="submit" class="btn btn-primary">Search</button>
    </form>

    <table class="table table-striped">
        <thead>
            <tr>
                <th>Vehicle Model</th>
                <th>Color</th>
                <th>Owner Name</th>
                <th>Country of Origin</th>
                <th>Destination Country</th>
                <th>Photo</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for vehicle in vehicles %}
                <tr>
                    <td>{{ vehicle.vehicle_model }}</td>
                    <td>{{ vehicle.vehicle_color }}</td>
                    <td>{{ vehicle.owner_name }}</td>
                    <td>{{ vehicle.country_of_origin }}</td>
                    <td>{{ vehicle.destination_country }}</td>
                    <td>
                        {% if vehicle.vehicle_photo %}
                            <img src="{{ vehicle.vehicle_photo.url }}" alt="{{ vehicle.vehicle_model }}" width="100">
                        {% else %}
                            No Image
                        {% endif %}
                    </td>
                    <td>
                        <a href="{% url 'border:vehicle-update' vehicle.id %}" class="btn btn-sm btn-warning">Edit</a>
                        <a href="{% url 'border:vehicle-delete' vehicle.id %}" class="btn btn-sm btn-danger">Delete</a>
                    </td>
                </tr>
            {% empty %}
                <tr>
                    <td colspan="7" class="text-center">No vehicles found.</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <a href="{% url 'border:vehicle-create' %}" class="btn btn-success mb-3">Add New Vehicle</a>
</div>
{% endblock %}
